---
title: ğŸ’» è‡ªä½œè¨€èªã‚¤ãƒ³ã‚¿ãƒ—ãƒªã‚¿ã‚’ä½œã‚ŠãŸã„8
date: 2018-8-18
tag: [programming, è‡ªä½œè¨€èªã‚¤ãƒ³ã‚¿ãƒ—ãƒªã‚¿]
---
# ã‚ã‚ŒãŒãƒ‡ãƒãƒ–ã€ã‚¢ãƒ«ã‚¿ã‚¤ãƒ«ã€ãƒ™ã‚¬
å…ˆé€±ã¯é•·é‡çœŒã«æ˜Ÿã‚’è¦‹ã«è¡Œãæ—…è¡Œã¸è¡Œã£ãŸã‚Šã€ä»Šé€±ã¯ï¼”é€£ä¼‘ã‚’ã‚‚ã‚‰ã£ã¦èŠ±ç«ã‚’ã—ãŸã‚Šã€ãƒ—ãƒ¼ãƒ«ã«è¡Œã£ãŸã‚Šã¨å¤ä¼‘ã¿ã‚‰ã—ã„äº‹ã‚’ã—ã¦ã„ã¾ã—ãŸã€‚  
é€²æ—ã‚‚å‡ºã•ãªã„ã¨ã€‚

![å›³1: å¤ã®å¤§ä¸‰è§’ã¨å¤©ã®å·(ç››ã£ã¦ã‚‹)](https://i.imgur.com/aRsPTvZ.jpg)

# æœ¬é¡Œ
ã•ã¦ã€æœ¬é¡Œã§ã™ã€‚ä»Šå›ã¯ã„ã‚ã„ã‚ãªã‚µãƒ³ãƒ—ãƒ«ã‚’ `Arcturus` ã§æ›¸ãã¨ã—ãŸã‚‰ã©ã®ã‚ˆã†ã«ãªã‚‹ã‹ã‚’è¦‹ã¦ã„ãã¾ã—ã‚‡ã†ã€‚æœªå®Ÿè£…ã®æ©Ÿèƒ½ã‚’ãƒãƒªãƒãƒªä½¿ã£ã¦ã„ã‚‹ã®ã§ãã®å ´åˆã¯é©å®œè§£èª¬ã—ã¾ã™ã€‚

## ãƒ•ã‚£ãƒœãƒŠãƒƒãƒæ•°
### nth_fib.ac
```kotlin
&: |> { when(it) { 0, 1 -> it, else -> self(it - 2) + self(it - 1) } |> println
```

### å…¥åŠ›æ¼”ç®—å­ `&:`

**å‰å›ã¾ã§ã¯ `>>` ã§ã—ãŸãŒã€ã‚ã‹ã‚Šã«ãã„ã®ã§å¤‰æ›´ã—ã¾ã—ãŸã€‚**  
`&:` ã¯å…¥åŠ›æ¼”ç®—å­ã§ã€å…¥åŠ›ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã«å¿œã˜ã¦è‡ªå‹•çš„ã«å‹ãŒæ±ºå®šã•ã‚Œã¾ã™ã€‚ä¾‹ãˆã°æ•°å­—ã‚’å…¥åŠ›ã™ã‚‹ã¨ `Int` å‹ã®å…¥åŠ›ã¨ã—ã¦æ‰±ã‚ã‚Œã¾ã™ã€‚
æ˜ç¤ºçš„ã«å‹ã‚’æŒ‡å®šã—ãŸã„å ´åˆã¯ `&: String` ã®ã‚ˆã†ã«å¾Œã‚ã«å‹ã‚’æŒ‡å®šã—ã¾ã™ã€‚

### ãƒ©ãƒ ãƒ€å¼ã®å³æ™‚å‘¼ã³å‡ºã—
`&:| > { ... }` ã¯ `{ ... }(&:)` ã¨ç­‰ä¾¡ãªã®ã§ãƒ©ãƒ ãƒ€å¼ã®å‘¼ã³å‡ºã—ã‚’ã—ã¦ã„ã‚‹ã ã‘ã§ã™ã€‚ 

### è‡ªèº«ã‚’å‘¼ã³å‡ºã™ `self`
é–¢æ•°ã‚„ãƒ©ãƒ ãƒ€å¼å†…ã§ `self` ã‚’ä½¿ç”¨ã™ã‚‹ã¨è‡ªèº«ã‚’å‘¼ã³å‡ºã›ã‚‹ã‚ˆã†ã«ã—ãŸã„ã§ã™ã€‚ 

## ãƒã‚¤ãƒ³ã‚¹ã‚¤ãƒ¼ãƒ‘
### minesweeper.ac
```kotlin
enum State { Closing | Opening | Flagging }

class Cell(isMine: Bool = false, hints: Int = 0, state: State = State.Closing) { 
    fn toString() -> String {
        [' * ', ' #{hints} ', ' F '][state.index]
    }
}

&: => num:
board: Mat<Cell, 8, 8>
board.select(num).map { isMine = true }
board.eachIndexed { cell: Cell, x: Int, y: Int ->
    cell.hints = board[x + -1..1, y + -1..1].count { is_mine }
}

while(board.count { isMine } < num) {
    println(board)
    println("mode(1 : OPEN, 2 : FLAG) x y ?: ")
    [mode: State, x: Int, y:Int] = [&:]
    when(mode) {
        State.Opening -> {
            board[&: + -1..1, &: + -1..1]
                .filter { !isMine }
                .map { state = State.Opening }
        }
        State.Flagging -> {
            board[&:, &:].state = if(board[x, y].state == State.Flagging) State.Closing else State.Flagging
        }
    }
}
```
### ï¼’æ¬¡å…ƒé…åˆ— `Mat`
äºŒæ¬¡å…ƒçš„ãªè¡¨ç¾ã¯ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã‚’ã™ã‚‹ã¨ãã«ã‚ˆãä½¿ã‚ã‚Œã‚‹ã¨æ€ã†ã®ã§ã™ãŒã€
å¤šãã®ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã§ã¯ï¼’æ¬¡å…ƒé…åˆ—ã‚’è¡¨ç¾ã™ã‚‹ã¨ãã«é…åˆ—ã®é…åˆ—ã‚’ç”¨ã„ã¦è¡¨ç¾ã™ã‚‹ã“ã¨ãŒå¤šã„ã¨æ€ã„ã¾ã™ã€‚  
ã—ã‹ã—ã€ä¾‹ãˆã°åº§æ¨™ã®ç®¡ç†ãªã©ã§ `poses[x][y]` ã ã¨æ€ã£ã¦ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã—ãŸã‚‰å®Ÿéš›ã¯ `poses[y][x]` ã§ãƒã‚°ãŒç™ºç”Ÿã—ã¦ã„ãŸã‚Šã€è¦ç´ ã‚’åˆ—æŒ™ã™ã‚‹ã®ã«`ï¼’é‡ã®foræ–‡`ã‚’ä½¿ã‚ãªã‘ã‚Œã°ãªã‚‰ãªã„ãªã©ç…©ã‚ã—ã•ãŒå¤šå°‘ã‚ã‚Šã¾ã™ã€‚ãªã®ã§ `Arcturus` ã§ã¯ï¼’æ¬¡å…ƒé…åˆ—ã‚’ `Mat` ã¨ã—ã¦è¨€èªä»•æ§˜ã«çµ„ã¿è¾¼ã‚‚ã†ã¨æ€ã„ã¾ã™ã€‚

### åˆ—æŒ™å‹ `Enum`
#### enum.ac
```kotlin
enum Fruit { Apple | Orange | Grape }
fruit: Fruit = Fruit.Apple
```

åˆ—æŒ™å‹ã§ã™ã€‚

### `Class`
#### class.ac
```kotlin
class Human(age: Int, job: String) {
    fn greed() -> Unit {
        println("#{age} years old, I'm a #{job}")
    }
}

human: = Human(24, "student")
human.greed() // "24 years old, I'm a student"
```

ã¾ãã‚ˆãã‚ã‚‹ã‚¯ãƒ©ã‚¹ã§ã™ã€‚

### ï¼’æ¬¡å…ƒé…åˆ—ã¨é…åˆ—ã®ã‚¢ã‚¯ã‚»ã‚µ
ï¼‘æ¬¡å…ƒé…åˆ— `Array` ã§ã¯ `array[3]` ã®ã‚ˆã†ã«ã—ã¦è¦ç´ ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã®ã¨åŒæ§˜ã«ã€ ï¼’æ¬¡å…ƒé…åˆ— `Mat` ã§ã¯ `mat[2, 4]` ã¨ã™ã‚‹ã“ã¨ã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆã†ã«ã—ãŸã„ã€‚  
ã¾ãŸã€æ·»å­—ã« `1..4` ã®ã‚ˆã†ãª `Range` ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã§é…åˆ—ã®åˆ‡ã‚Šå‡ºã—ã¨ã‹ã‚‚å‡ºæ¥ã‚‹ã‚ˆã†ã«ã—ãŸã„ã€‚

### åˆ†å‰²ä»£å…¥
åˆ†å‰²ä»£å…¥ã¯æœ€è¿‘ã® `JavaScript` ã¨ã‹ã«ã‚ã‚‹ `[a, b] = [10, 20]` ã®ã‚ˆã†ã«é…åˆ—ã®è¦ç´ ã‚’åˆ†å‰²ã—ã¦ä»£å…¥ã§ãã‚‹å¼ã§ã™ã€‚

#### destructuring.ac
```java
[a, b] = [10, 20]
assert(a == 10 && b == 20)
[a] = [10, 20]
assert(a == 10)
[a, *b] = [10, 20, 30]
assert(a == 10 && b == [20, 30])
[a, _, b] = [10, 20, 30]
assert(a == 10 && b == 30)
```

å®Ÿè£…é›£ã—ãã†ã€‚
ã“ã‚Œã‚‰ã®ã‚µãƒ³ãƒ—ãƒ«ãŒå‹•ãã‚ˆã†ã«ãªã‚‹ã®ã¯ã„ã¤ã«ãªã‚‹ã“ã¨ã‚„ã‚‰ã€‚