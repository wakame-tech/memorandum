<!DOCTYPE html>
<html lang="ja-JP">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>📖 もう二度とTeXを書かないようにするために | Memorundum</title>
    <meta name="description" content="">
    <link href="/css/style.css" rel="stylesheet">
    <link rel="preload" href="/assets/css/0.styles.10a7a50f.css" as="style"><link rel="preload" href="/assets/js/app.84970b81.js" as="script"><link rel="preload" href="/assets/js/7.486fd43f.js" as="script"><link rel="preload" href="/assets/js/31.841a72fc.js" as="script"><link rel="prefetch" href="/assets/js/1.0e37fe1c.js"><link rel="prefetch" href="/assets/js/10.d5deecdb.js"><link rel="prefetch" href="/assets/js/11.d25db60a.js"><link rel="prefetch" href="/assets/js/12.d9c853fa.js"><link rel="prefetch" href="/assets/js/13.687afdb4.js"><link rel="prefetch" href="/assets/js/14.0832f5a2.js"><link rel="prefetch" href="/assets/js/15.18b09289.js"><link rel="prefetch" href="/assets/js/16.083b8bbb.js"><link rel="prefetch" href="/assets/js/17.db6c775d.js"><link rel="prefetch" href="/assets/js/18.ffd6dcf6.js"><link rel="prefetch" href="/assets/js/19.16190600.js"><link rel="prefetch" href="/assets/js/20.c122d91b.js"><link rel="prefetch" href="/assets/js/21.0bc717a8.js"><link rel="prefetch" href="/assets/js/22.b9b5499f.js"><link rel="prefetch" href="/assets/js/23.8c954d8b.js"><link rel="prefetch" href="/assets/js/24.bccb9628.js"><link rel="prefetch" href="/assets/js/25.e80f14ac.js"><link rel="prefetch" href="/assets/js/26.60880e49.js"><link rel="prefetch" href="/assets/js/27.4e556cd8.js"><link rel="prefetch" href="/assets/js/28.88b9103d.js"><link rel="prefetch" href="/assets/js/29.7387e05c.js"><link rel="prefetch" href="/assets/js/3.ad3a6f89.js"><link rel="prefetch" href="/assets/js/30.71fc039a.js"><link rel="prefetch" href="/assets/js/32.e776ca44.js"><link rel="prefetch" href="/assets/js/33.7065c3b5.js"><link rel="prefetch" href="/assets/js/34.1f20602c.js"><link rel="prefetch" href="/assets/js/35.9f138e8d.js"><link rel="prefetch" href="/assets/js/36.47a4c64b.js"><link rel="prefetch" href="/assets/js/37.21842717.js"><link rel="prefetch" href="/assets/js/38.5232d94d.js"><link rel="prefetch" href="/assets/js/39.da0faca1.js"><link rel="prefetch" href="/assets/js/4.e2591d62.js"><link rel="prefetch" href="/assets/js/40.296937ed.js"><link rel="prefetch" href="/assets/js/41.7069df4f.js"><link rel="prefetch" href="/assets/js/5.a1fcfd01.js"><link rel="prefetch" href="/assets/js/6.1e72d160.js"><link rel="prefetch" href="/assets/js/8.cd45f508.js"><link rel="prefetch" href="/assets/js/9.f72c1898.js">
    <link rel="stylesheet" href="/assets/css/0.styles.10a7a50f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="vuepress-theme-meteorlxy"><header class="header" data-v-0be91240><div data-v-3e9833e9 data-v-0be91240><nav class="navbar" data-v-3e9833e9><div class="container" data-v-3e9833e9><a href="/" class="router-link-active" data-v-3e9833e9><span class="navbar-site-name" data-v-3e9833e9>
          Memorundum
        </span></a> <div class="navbar-toggler" data-v-3e9833e9><svg class="icon" style="font-size:1.2em;" data-v-3e9833e9 data-v-3e9833e9><title data-v-3e9833e9 data-v-3e9833e9>menu</title><use xlink:href="#icon-menu" data-v-3e9833e9 data-v-3e9833e9></use></svg></div> <div class="navbar-links" data-v-3e9833e9><a href="/home/" class="navbar-link" data-v-3e9833e9>
            ホーム
          </a><a href="/" class="navbar-link" data-v-3e9833e9>
            ブログ
          </a><a href="/portfolio/" class="navbar-link" data-v-3e9833e9>
            Works
          </a><a href="/til/" class="navbar-link" data-v-3e9833e9>
            Til
          </a></div></div></nav> <div class="navbar-holder" style="display:none;" data-v-3e9833e9></div></div> <div class="banner" data-v-98d6aa8c data-v-0be91240 data-v-0be91240><div class="container" data-v-98d6aa8c><div class="center" data-v-98d6aa8c><h1 data-v-98d6aa8c data-v-0be91240>
          📖 もう二度とTeXを書かないようにするために
        </h1></div></div></div></header> <div class="container clearfix show-aside" data-v-6e91a59a data-v-6e91a59a><main class="main" data-v-6e91a59a><div class="post" data-v-6e91a59a data-v-6e91a59a><section class="post-meta main-div" data-v-4e23451f><section class="post-date clearfix" data-v-4e23451f><span class="create-date" data-v-4e23451f>
      作成日 : 2018-08-11
    </span> <!----></section> <section class="post-links" data-v-4e23451f><a href="/posts/2018/08/09/mylang6.html" class="post-link" data-v-4e23451f>
      前の投稿 : 💻 自作言語インタプリタを作りたい6
    </a> <a href="/posts/2018/08/11/mylang7.html" class="post-link" data-v-4e23451f>
      次の投稿 : 💻 自作言語インタプリタを作りたい7
    </a></section></section> <article class="main-div"><div class="post-content content content__default"><h1 id="latexがきらいです"><a href="#latexがきらいです" class="header-anchor">#</a> LaTeXがきらいです</h1> <p>理系ならほとんどが <code>TeX</code> による組版を経験したことがあると思う。
まぁ <code>Microsoft Word</code> とか <code>手書き</code> (弊学科も１年生のときは手書きでした)とかでレポートを作成しているところもあるけど。
ところで <code>TeX</code> は好きですか？ 多くの人はNoと答えると思う。
なぜなら、 <code>TeX</code> は少し番号リストとかを使おうとするだけで記述が煩雑だし、特に数式を表現するとき <code>{}</code> が何重にもネストされていてコンパイルエラーの温床となるしであまり良い思いがないのも事実。</p> <p>そこで今回は <code>Pandoc</code> なるツールを紹介しようと思います。(通販風)
<code>Pandoc</code> は <code>Markdown</code>, <code>HTML</code>, <code>LaTeX</code>, <code>reStructuredText</code> などを様々な形式(<code>Markdown</code>, <code>reST</code>, <code>HTML</code>, <code>LaTeX</code>, <code>Word</code>, <code>PDF</code> ...)に変換出来るドキュメント変換ツールです。</p> <p>この <code>Pandoc</code> を利用して <code>オレオレMarkDown→PDF変換スクリプト</code>、<code>m2p</code> を作りました。これでレポート書く速度倍ぐらいになってるはず。<br>
流れはこうです。</p> <ol><li><code>report.md</code> を <code>replace.rb</code> によってプリプロセス</li> <li><code>Pandoc</code> によって <code>report.md</code> を <code>report.tex</code> に</li> <li><code>report.tex</code> をテンプレートである <code>main.tex</code> に埋め込む</li> <li><code>main.tex</code> をコンパイル、PDF生成</li></ol> <p>中身も少し見てみよう。</p> <h3 id="m2p-sh-抜粋"><a href="#m2p-sh-抜粋" class="header-anchor">#</a> m2p.sh(抜粋)</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># md -&gt; tex by using pandoc</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$DEBUGGING</span>&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;TRUE&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  pandoc <span class="token variable">${FILENAME}</span>_m.md -o <span class="token variable">${FILENAME}</span>.tex <span class="token operator">&gt;</span> /dev/null
<span class="token keyword">else</span>
  pandoc <span class="token variable">${FILENAME}</span>_m.md -o <span class="token variable">${FILENAME}</span>.tex
<span class="token keyword">fi</span>
<span class="token comment"># delete &quot;\tightlist&quot;</span>
<span class="token function">sed</span> -i <span class="token string">''</span> <span class="token string">'/<span class="token entity" title="\\">\\</span>tightlist/d'</span> <span class="token variable">${FILENAME}</span>.tex
<span class="token comment"># $1.tex plant into main</span>
<span class="token function">sed</span> -i <span class="token string">''</span> -e s/<span class="token punctuation">\</span><span class="token punctuation">\</span>include<span class="token punctuation">\</span><span class="token punctuation">{</span>.*<span class="token punctuation">\</span><span class="token punctuation">}</span>/<span class="token punctuation">\</span><span class="token punctuation">\</span>include<span class="token punctuation">\</span><span class="token punctuation">{</span><span class="token variable">${FILENAME}</span><span class="token punctuation">\</span><span class="token punctuation">}</span>/ main.tex
<span class="token comment"># compile main.tex</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$DEBUGGING</span>&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;TRUE&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  platex -halt-on-error -interaction<span class="token operator">=</span>nonstopmode -file-line-error main.tex
<span class="token keyword">else</span>
  platex -halt-on-error -interaction<span class="token operator">=</span>nonstopmode -file-line-error main.tex <span class="token operator">&gt;</span> /dev/null
<span class="token keyword">fi</span>
<span class="token comment"># dvi -&gt; pdf</span>
dvipdfmx main.dvi
<span class="token function">mv</span> main.pdf <span class="token variable">${FILENAME}</span>.pdf
<span class="token comment"># remove files</span>
<span class="token function">rm</span> ./<span class="token variable">${FILENAME}</span>_m.md
<span class="token function">rm</span> ./*.dvi
<span class="token function">rm</span> ./*.out
<span class="token function">rm</span> ./*.log
<span class="token function">rm</span> ./*.aux
</code></pre></div><h3 id="replace-rb-抜粋"><a href="#replace-rb-抜粋" class="header-anchor">#</a> replace.rb(抜粋)</h3> <div class="language-ruby extra-class"><pre class="language-ruby"><code><span class="token comment"># @ ~~~ =&gt; title</span>
buffer<span class="token punctuation">.</span>gsub<span class="token operator">!</span><span class="token punctuation">(</span><span class="token regex">/^@(.*)$/</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span>
title <span class="token operator">=</span> $<span class="token number">1</span>
<span class="token comment"># $&lt; ~~~ &gt;$ =&gt; equation</span>
buffer<span class="token punctuation">.</span>gsub<span class="token operator">!</span><span class="token punctuation">(</span><span class="token regex">/\$&lt;/</span><span class="token punctuation">,</span> <span class="token string">'\begin{equation}'</span><span class="token punctuation">)</span>
buffer<span class="token punctuation">.</span>gsub<span class="token operator">!</span><span class="token punctuation">(</span><span class="token regex">/&gt;\$/</span><span class="token punctuation">,</span> <span class="token string">'\end{equation}'</span><span class="token punctuation">)</span>
<span class="token comment"># =&lt; ~~~ &gt;= =&gt; eqnarray</span>
buffer<span class="token punctuation">.</span>gsub<span class="token operator">!</span><span class="token punctuation">(</span><span class="token regex">/=&lt;/</span><span class="token punctuation">,</span> <span class="token string">'\begin{eqnarray}'</span><span class="token punctuation">)</span>
buffer<span class="token punctuation">.</span>gsub<span class="token operator">!</span><span class="token punctuation">(</span><span class="token regex">/&gt;=/</span><span class="token punctuation">,</span> <span class="token string">'\end{eqnarray}'</span><span class="token punctuation">)</span>
<span class="token comment"># `&lt; ~~~ &gt;` =&gt; lstlisting</span>
buffer<span class="token punctuation">.</span>gsub<span class="token operator">!</span><span class="token punctuation">(</span><span class="token regex">/^\`&lt;(.*)$/</span><span class="token punctuation">,</span> <span class="token string">'\begin{lstlisting}[numbers=left, caption=\1, frame=single]'</span><span class="token punctuation">)</span>
buffer<span class="token punctuation">.</span>gsub<span class="token operator">!</span><span class="token punctuation">(</span><span class="token regex">/^&gt;\`/</span><span class="token punctuation">,</span> <span class="token string">'\end{lstlisting}'</span><span class="token punctuation">)</span>
<span class="token comment"># *&lt; ~~~ &gt;* =&gt; thebibliography</span>
buffer<span class="token punctuation">.</span>gsub<span class="token operator">!</span><span class="token punctuation">(</span><span class="token regex">/^\*&lt;$/</span><span class="token punctuation">,</span> <span class="token string">'\begin{thebibliography}{99}'</span><span class="token punctuation">)</span>
buffer<span class="token punctuation">.</span>gsub<span class="token operator">!</span><span class="token punctuation">(</span><span class="token regex">/^&gt;\*/</span><span class="token punctuation">,</span> <span class="token string">'\end{thebibliography}'</span><span class="token punctuation">)</span>
</code></pre></div><p>サンプルはこんなかんじです。</p> <div class="language- extra-class"><pre class="language-text"><code>@1 XXの実験
# 理論
=&lt;
    x &amp;=&amp; 1 \\
    y &amp;=&amp; 2
&gt;=
# 方法
## その1
$&lt;
    1 + 1 = 2
&gt;$
## その2
`&lt;hello.js
    console.log('Hello, World!')
&gt;`
*&lt;
 \bibbook{タイトル}{2017}{出版社}
 \bibweb{ぺーじ}{http://hoge.com}
&gt;*
</code></pre></div><p>ついでに <code>TeX</code> による数式の記述が10倍早くなる方法も紹介します。<br> <a href="https://webdemo.myscript.com/views/main/math.html" target="_blank" rel="noopener noreferrer">Web Equation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><br>
これは手書きの数式を <code>TeX</code> 形式に変換してくれるWebサービスです。結構複雑な式でも難なく変換できるので重宝しています。</p> <p>これで <code>TeX</code> を一文字たりとも書かなくて済むようになった。<br>
最後にアレを言いたい。</p> <h2 id="まだtexで消耗してるの？"><a href="#まだtexで消耗してるの？" class="header-anchor">#</a> <strong>まだTeXで消耗してるの？</strong></h2> <h1 id="参考文献"><a href="#参考文献" class="header-anchor">#</a> 参考文献</h1> <ul><li><a href="https://qiita.com/sky_y/items/80bcd0f353ef5b8980ee" target="_blank" rel="noopener noreferrer">Qiita - 多様なフォーマットに対応！ドキュメント変換ツールPandocを知ろう<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></article> <section class="post-meta main-div" data-v-4e23451f><section class="post-date clearfix" data-v-4e23451f><span class="create-date" data-v-4e23451f>
      作成日 : 2018-08-11
    </span> <!----></section> <section class="post-links" data-v-4e23451f><a href="/posts/2018/08/09/mylang6.html" class="post-link" data-v-4e23451f>
      前の投稿 : 💻 自作言語インタプリタを作りたい6
    </a> <a href="/posts/2018/08/11/mylang7.html" class="post-link" data-v-4e23451f>
      次の投稿 : 💻 自作言語インタプリタを作りたい7
    </a></section></section> <!----></div></main> <aside class="aside" data-v-6e91a59a><div class="info-card main-div" data-v-23d90c50 data-v-6e91a59a><div class="info-card-header" data-v-23d90c50><img src="https://images.ctfassets.net/ix7hhkbnjvh0/26vx1m8aWl3m7q9Tyfblbj/35e526d9fe6bc4f20b4fd16bd2794831/mel.jpg" alt="wakame-tech" class="info-avatar" data-v-23d90c50></div> <div class="info-card-body" data-v-23d90c50><section class="info-nickname" data-v-23d90c50>
      wakame-tech
    </section> <section class="info-desc" data-v-23d90c50>Doing Nothing</section> <section class="info-contact" data-v-23d90c50><section data-v-23d90c50><span title="Tokyo, Japan" data-v-23d90c50 data-v-23d90c50><svg class="icon" style="font-size:1em;" data-v-23d90c50 data-v-23d90c50><title data-v-23d90c50 data-v-23d90c50>Tokyo, Japan</title><use xlink:href="#icon-location" data-v-23d90c50 data-v-23d90c50></use></svg><span class="info-text" data-v-23d90c50 data-v-23d90c50>
          Tokyo, Japan
        </span></span></section> <section data-v-23d90c50><span title="Something" data-v-23d90c50 data-v-23d90c50><svg class="icon" style="font-size:1em;" data-v-23d90c50 data-v-23d90c50><title data-v-23d90c50 data-v-23d90c50>Something</title><use xlink:href="#icon-organization" data-v-23d90c50 data-v-23d90c50></use></svg><span class="info-text" data-v-23d90c50 data-v-23d90c50>
          Something
        </span></span></section> <!----></section></div> <div class="info-card-footer" data-v-23d90c50><section class="info-sns clearfix" data-v-23d90c50><a href="https://github.com/wakame-tech" target="_blank" class="sns-link" data-v-23d90c50><span title="GitHub: wakame-tech" class="sns-icon" data-v-23d90c50 data-v-23d90c50><svg class="icon" style="font-size:1.5em;" data-v-23d90c50 data-v-23d90c50><title data-v-23d90c50 data-v-23d90c50>GitHub: wakame-tech</title><use xlink:href="#icon-github" data-v-23d90c50 data-v-23d90c50></use></svg></span></a><a href="https://twitter.com/wakame_tech" target="_blank" class="sns-link" data-v-23d90c50><span title="Twitter: wakame_tech" class="sns-icon" data-v-23d90c50 data-v-23d90c50><svg class="icon" style="font-size:1.5em;" data-v-23d90c50 data-v-23d90c50><title data-v-23d90c50 data-v-23d90c50>Twitter: wakame_tech</title><use xlink:href="#icon-twitter" data-v-23d90c50 data-v-23d90c50></use></svg></span></a><a href="https://hub.docker.com/u/wakametech" target="_blank" class="sns-link" data-v-23d90c50><span title="Docker Hub: wakametech" class="sns-icon" data-v-23d90c50 data-v-23d90c50><svg class="icon" style="font-size:1.5em;" data-v-23d90c50 data-v-23d90c50><title data-v-23d90c50 data-v-23d90c50>Docker Hub: wakametech</title><use xlink:href="#icon-docker" data-v-23d90c50 data-v-23d90c50></use></svg></span></a></section></div></div> <div class="post-nav-card main-div" style="position:relative;top:0;width:0px;" data-v-6e91a59a><div class="post-nav-contents"><svg class="icon"><title>book</title><use xlink:href="#icon-book"></use></svg> <span>目次</span> <div class="post-nav-toc"><ul><li><a href="/posts/2018/08/11/report.html#m2p-sh-抜粋">m2p.sh(抜粋)</a><ul><li><a href="/posts/2018/08/11/report.html#replace-rb-抜粋">replace.rb(抜粋)</a></li></ul></li><li><a href="/posts/2018/08/11/report.html#まだtexで消耗してるの？">まだTeXで消耗してるの？</a></li></ul></div></div> <!----></div></aside></div> <footer class="footer" data-v-f018ab8c><p class="footer-sns-links" data-v-f018ab8c><a href="https://github.com/wakame-tech" target="_blank" class="sns-link" data-v-f018ab8c><span title="GitHub: wakame-tech" class="sns-icon" data-v-f018ab8c data-v-f018ab8c><svg class="icon" style="font-size:25px;" data-v-f018ab8c data-v-f018ab8c><title data-v-f018ab8c data-v-f018ab8c>GitHub: wakame-tech</title><use xlink:href="#icon-github" data-v-f018ab8c data-v-f018ab8c></use></svg></span></a><a href="https://twitter.com/wakame_tech" target="_blank" class="sns-link" data-v-f018ab8c><span title="Twitter: wakame_tech" class="sns-icon" data-v-f018ab8c data-v-f018ab8c><svg class="icon" style="font-size:25px;" data-v-f018ab8c data-v-f018ab8c><title data-v-f018ab8c data-v-f018ab8c>Twitter: wakame_tech</title><use xlink:href="#icon-twitter" data-v-f018ab8c data-v-f018ab8c></use></svg></span></a><a href="https://hub.docker.com/u/wakametech" target="_blank" class="sns-link" data-v-f018ab8c><span title="Docker Hub: wakametech" class="sns-icon" data-v-f018ab8c data-v-f018ab8c><svg class="icon" style="font-size:25px;" data-v-f018ab8c data-v-f018ab8c><title data-v-f018ab8c data-v-f018ab8c>Docker Hub: wakametech</title><use xlink:href="#icon-docker" data-v-f018ab8c data-v-f018ab8c></use></svg></span></a></p> <p class="footer-text" data-v-f018ab8c><span data-v-f018ab8c>Powered by </span> <a href="https://github.com/vuejs/vuepress" target="_blank" data-v-f018ab8c>
      VuePress
    </a> <span data-v-f018ab8c> | </span> <a href="https://github.com/meteorlxy/vuepress-theme-meteorlxy" target="_blank" data-v-f018ab8c>
        meteorlxy
      </a></p> <!----></footer></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/app.84970b81.js" defer></script><script src="/assets/js/7.486fd43f.js" defer></script><script src="/assets/js/31.841a72fc.js" defer></script>
  </body>
</html>
