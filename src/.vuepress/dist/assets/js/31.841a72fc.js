(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{422:function(t,s,a){"use strict";a.r(s);var n=a(1),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"latexがきらいです"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#latexがきらいです"}},[t._v("#")]),t._v(" LaTeXがきらいです")]),t._v(" "),a("p",[t._v("理系ならほとんどが "),a("code",[t._v("TeX")]),t._v(" による組版を経験したことがあると思う。\nまぁ "),a("code",[t._v("Microsoft Word")]),t._v(" とか "),a("code",[t._v("手書き")]),t._v(" (弊学科も１年生のときは手書きでした)とかでレポートを作成しているところもあるけど。\nところで "),a("code",[t._v("TeX")]),t._v(" は好きですか？ 多くの人はNoと答えると思う。\nなぜなら、 "),a("code",[t._v("TeX")]),t._v(" は少し番号リストとかを使おうとするだけで記述が煩雑だし、特に数式を表現するとき "),a("code",[t._v("{}")]),t._v(" が何重にもネストされていてコンパイルエラーの温床となるしであまり良い思いがないのも事実。")]),t._v(" "),a("p",[t._v("そこで今回は "),a("code",[t._v("Pandoc")]),t._v(" なるツールを紹介しようと思います。(通販風)\n"),a("code",[t._v("Pandoc")]),t._v(" は "),a("code",[t._v("Markdown")]),t._v(", "),a("code",[t._v("HTML")]),t._v(", "),a("code",[t._v("LaTeX")]),t._v(", "),a("code",[t._v("reStructuredText")]),t._v(" などを様々な形式("),a("code",[t._v("Markdown")]),t._v(", "),a("code",[t._v("reST")]),t._v(", "),a("code",[t._v("HTML")]),t._v(", "),a("code",[t._v("LaTeX")]),t._v(", "),a("code",[t._v("Word")]),t._v(", "),a("code",[t._v("PDF")]),t._v(" ...)に変換出来るドキュメント変換ツールです。")]),t._v(" "),a("p",[t._v("この "),a("code",[t._v("Pandoc")]),t._v(" を利用して "),a("code",[t._v("オレオレMarkDown→PDF変換スクリプト")]),t._v("、"),a("code",[t._v("m2p")]),t._v(" を作りました。これでレポート書く速度倍ぐらいになってるはず。"),a("br"),t._v("\n流れはこうです。")]),t._v(" "),a("ol",[a("li",[a("code",[t._v("report.md")]),t._v(" を "),a("code",[t._v("replace.rb")]),t._v(" によってプリプロセス")]),t._v(" "),a("li",[a("code",[t._v("Pandoc")]),t._v(" によって "),a("code",[t._v("report.md")]),t._v(" を "),a("code",[t._v("report.tex")]),t._v(" に")]),t._v(" "),a("li",[a("code",[t._v("report.tex")]),t._v(" をテンプレートである "),a("code",[t._v("main.tex")]),t._v(" に埋め込む")]),t._v(" "),a("li",[a("code",[t._v("main.tex")]),t._v(" をコンパイル、PDF生成")])]),t._v(" "),a("p",[t._v("中身も少し見てみよう。")]),t._v(" "),a("h3",{attrs:{id:"m2p-sh-抜粋"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#m2p-sh-抜粋"}},[t._v("#")]),t._v(" m2p.sh(抜粋)")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# md -> tex by using pandoc")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$DEBUGGING")]),t._v('"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"TRUE"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v("\n  pandoc "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${FILENAME}")]),t._v("_m.md -o "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${FILENAME}")]),t._v(".tex "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" /dev/null\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v("\n  pandoc "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${FILENAME}")]),t._v("_m.md -o "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${FILENAME}")]),t._v(".tex\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fi")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# delete "\\tightlist"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sed")]),t._v(" -i "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\\\"}},[t._v("\\\\")]),t._v("tightlist/d'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${FILENAME}")]),t._v(".tex\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# $1.tex plant into main")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sed")]),t._v(" -i "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),t._v(" -e s/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("include"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(".*"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("include"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${FILENAME}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/ main.tex\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# compile main.tex")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$DEBUGGING")]),t._v('"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"TRUE"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v("\n  platex -halt-on-error -interaction"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("nonstopmode -file-line-error main.tex\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v("\n  platex -halt-on-error -interaction"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("nonstopmode -file-line-error main.tex "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" /dev/null\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fi")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# dvi -> pdf")]),t._v("\ndvipdfmx main.dvi\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("mv")]),t._v(" main.pdf "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${FILENAME}")]),t._v(".pdf\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# remove files")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" ./"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${FILENAME}")]),t._v("_m.md\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" ./*.dvi\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" ./*.out\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" ./*.log\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" ./*.aux\n")])])]),a("h3",{attrs:{id:"replace-rb-抜粋"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#replace-rb-抜粋"}},[t._v("#")]),t._v(" replace.rb(抜粋)")]),t._v(" "),a("div",{staticClass:"language-ruby extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ruby"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# @ ~~~ => title")]),t._v("\nbuffer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("gsub"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token regex"}},[t._v("/^@(.*)$/")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ntitle "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# $< ~~~ >$ => equation")]),t._v("\nbuffer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("gsub"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token regex"}},[t._v("/\\$</")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\\begin{equation}'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nbuffer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("gsub"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token regex"}},[t._v("/>\\$/")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\\end{equation}'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# =< ~~~ >= => eqnarray")]),t._v("\nbuffer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("gsub"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token regex"}},[t._v("/=</")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\\begin{eqnarray}'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nbuffer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("gsub"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token regex"}},[t._v("/>=/")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\\end{eqnarray}'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# `< ~~~ >` => lstlisting")]),t._v("\nbuffer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("gsub"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token regex"}},[t._v("/^\\`<(.*)$/")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\\begin{lstlisting}[numbers=left, caption=\\1, frame=single]'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nbuffer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("gsub"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token regex"}},[t._v("/^>\\`/")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\\end{lstlisting}'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# *< ~~~ >* => thebibliography")]),t._v("\nbuffer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("gsub"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token regex"}},[t._v("/^\\*<$/")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\\begin{thebibliography}{99}'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nbuffer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("gsub"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token regex"}},[t._v("/^>\\*/")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\\end{thebibliography}'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("サンプルはこんなかんじです。")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("@1 XXの実験\n\n# 理論\n\n=<\n    x &=& 1 \\\\\n    y &=& 2\n>=\n\n# 方法\n## その1\n\n$<\n    1 + 1 = 2\n>$\n\n## その2\n`<hello.js\n    console.log('Hello, World!')\n>`\n\n*<\n \\bibbook{タイトル}{2017}{出版社}\n \\bibweb{ぺーじ}{http://hoge.com}\n>*\n")])])]),a("p",[t._v("ついでに "),a("code",[t._v("TeX")]),t._v(" による数式の記述が10倍早くなる方法も紹介します。"),a("br"),t._v(" "),a("a",{attrs:{href:"https://webdemo.myscript.com/views/main/math.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Web Equation"),a("OutboundLink")],1),a("br"),t._v("\nこれは手書きの数式を "),a("code",[t._v("TeX")]),t._v(" 形式に変換してくれるWebサービスです。結構複雑な式でも難なく変換できるので重宝しています。")]),t._v(" "),a("p",[t._v("これで "),a("code",[t._v("TeX")]),t._v(" を一文字たりとも書かなくて済むようになった。"),a("br"),t._v("\n最後にアレを言いたい。")]),t._v(" "),a("h2",{attrs:{id:"まだtexで消耗してるの？"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#まだtexで消耗してるの？"}},[t._v("#")]),t._v(" "),a("strong",[t._v("まだTeXで消耗してるの？")])]),t._v(" "),a("h1",{attrs:{id:"参考文献"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考文献"}},[t._v("#")]),t._v(" 参考文献")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://qiita.com/sky_y/items/80bcd0f353ef5b8980ee",target:"_blank",rel:"noopener noreferrer"}},[t._v("Qiita - 多様なフォーマットに対応！ドキュメント変換ツールPandocを知ろう"),a("OutboundLink")],1)])])])}),[],!1,null,null,null);s.default=e.exports}}]);